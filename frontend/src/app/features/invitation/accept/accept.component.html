<div class="invitation-container">
  <div class="invitation-card" *ngIf="!loading">
    <div *ngIf="invitation && !error">
      <div class="icon">üìß</div>
      <h1>You're Invited!</h1>
      <p class="org-name">
        Join <strong>{{ invitation.organization.name }}</strong>
      </p>
      <p class="role">
        You'll be added as: <span class="badge">{{ invitation.role }}</span>
      </p>
      <p class="invited-by">
        Invited by: {{ invitation.invitedBy.firstName }}
        {{ invitation.invitedBy.lastName }}
      </p>
      <p class="invited-email">
        Invitation sent to: <strong>{{ invitation.email }}</strong>
      </p>

      <div *ngIf="isLoggedIn">
        <button
          class="btn-primary"
          (click)="acceptInvitation()"
          [disabled]="accepting"
        >
          {{ accepting ? 'Accepting...' : 'Accept Invitation' }}
        </button>
      </div>

      <div *ngIf="!isLoggedIn" class="login-prompt">
        <p>You need to log in to accept this invitation.</p>
        <button class="btn-primary" (click)="goToLogin()">Log In</button>
        <p class="register-link">
          Don't have an account?
          <a routerLink="/register">Register here</a>
        </p>
      </div>
    </div>

    <div *ngIf="error" class="error-state">
      <div class="icon">‚ö†Ô∏è</div>
      <h1>Oops!</h1>
      <p>{{ error }}</p>
      <a routerLink="/organizations" class="btn-secondary">
        Go to Organizations
      </a>
    </div>
  </div>

  <div class="loading" *ngIf="loading">Loading invitation...</div>
</div>